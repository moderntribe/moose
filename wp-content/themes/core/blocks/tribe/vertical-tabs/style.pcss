/* -------------------------------------------------------------------------
 *
 * Block - Vertical Tabs - Styles - FE / Editor
 *
 * ------------------------------------------------------------------------- */

@import '_variables.pcss';

@keyframes tab-content-fade-in {

	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}

/* -------------------------------------------------------------------------
 * Vertical Tabs - Wrapper
 * ------------------------------------------------------------------------- */

.b-vertical-tabs {
	display: grid;
	grid-template-columns: 1fr 1fr;
	gap: var(--grid-gutter);

	@media (--mq-wp-small-max) {
		grid-template-columns: 1fr;
	}
}

/* -------------------------------------------------------------------------
 * Vertical Tabs - Tab
 * ------------------------------------------------------------------------- */

.b-vertical-tabs__tab {
	cursor: pointer;
	padding: var(--spacer-40);
	border-left: 3px solid var(--vertical-tabs-border-color);
	transition: var(--transition);

	/* Account for sticky header when scrolling tab into view on mobile */
	@media (--mq-wp-small-max) {
		scroll-margin-top: calc(var(--masthead-mobile-height) + var(--spacer-20));
	}

	&[aria-selected="true"],
  	&.editor-is-selected {
		pointer-events: none;
		border-color: var(--vertical-tabs-border-selected-color);
	}

	&:focus-visible {

		@mixin focus-visible;
	}

	/* give tab content some space on mobile */
	.wp-block-tribe-vertical-tab {
		margin-top: var(--spacer-30);
	}
}

/* -------------------------------------------------------------------------
 * Vertical Tabs - Tab Hidden Content
 * ------------------------------------------------------------------------- */

.b-vertical-tabs__tab-hidden {
	display: none;

	.b-vertical-tabs__tab[aria-selected="true"] & {
		display: block;
		animation: tab-content-fade-in 0.15s ease-in-out;
	}
}

/* -------------------------------------------------------------------------
 * Vertical Tabs - Tab Title
 * ------------------------------------------------------------------------- */

.b-vertical-tabs__tab-title {
	display: block;

	.b-vertical-tabs__tab[aria-selected="true"] & {
		color: var(--vertical-tabs-title-selected-color);
	}

	@media (--has-hover) {

		.b-vertical-tabs__tab:not([aria-selected="true"]):hover &,
		.b-vertical-tabs__tab:not(.editor-is-selected):hover & {

			@mixin t-animated-underline-hover;
		}
	}
}

/* -------------------------------------------------------------------------
 * Vertical Tabs - Tab Content (Description)
 * ------------------------------------------------------------------------- */

.b-vertical-tabs__tab-description {
	display: block;
	margin-top: var(--spacer-30);
}

/* -------------------------------------------------------------------------
 * Vertical Tabs - Tab Content
 * ------------------------------------------------------------------------- */

.b-vertical-tabs__tab-content {

	@media (--mq-wp-small-max) {
		display: none;
	}
}

/* -------------------------------------------------------------------------
 * Vertical Tabs - Tab Inner Blocks
 * ------------------------------------------------------------------------- */

.wp-block-tribe-vertical-tab {

	/* fade in animation when switching tabs */
	&:not([hidden]) {
		animation: tab-content-fade-in 0.15s ease-in-out;
	}

	/* make sure tab gets focus visible state */
	&:focus-visible {

		@mixin focus-visible;
	}
}
