# Lefthook git hooks
# Refer for explanation to following link:
# https://github.com/evilmartians/lefthook/blob/master/docs/full_guide.md

# only show errors
skip_output:
  - meta
  - success
  - summary

# code linting
pre-commit:
  parallel: true
  commands:
    phpcs:
      run: composer run phpcs
    phpstan:
      run: composer run phpstan
    lintcss:
      run: npm run lint:css
    lintjs:
      run: npm run lint:js
    lintconfigs:
      run: npm run lint:configs
    lintpkgjson:
      run: npm run lint:pkg-json

# prefix with jira ticket
prepare-commit-msg:
  scripts:
    "prefix-with-jira-ticket.php":
      runner: php
